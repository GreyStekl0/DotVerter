<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="UI.Views.CurrencyConverterPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:UI.ViewModels"
    Title="ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚ÐµÑ€ Ð²Ð°Ð»ÑŽÑ‚"
    x:DataType="vm:CurrencyConverterViewModel">

    <ScrollView>
        <Grid
            Padding="20"
            RowDefinitions="Auto,Auto,Auto,Auto"
            RowSpacing="16">

            <!--  Ð¡ÐµÐºÑ†Ð¸Ñ Ð²Ñ‹Ð±Ð¾Ñ€Ð° Ð´Ð°Ñ‚Ñ‹  -->
            <Border
                Grid.Row="0"
                Padding="16"
                BackgroundColor="{AppThemeBinding Light={StaticResource White},
                                                  Dark={StaticResource Gray900}}"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray600}}"
                StrokeShape="RoundRectangle 12">
                <Border.Shadow>
                    <Shadow
                        Brush="{StaticResource Gray300}"
                        Opacity="0.3"
                        Radius="4"
                        Offset="0,2" />
                </Border.Shadow>
                <VerticalStackLayout Spacing="8">
                    <Label
                        FontAttributes="Bold"
                        FontSize="14"
                        Text="ðŸ“… Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´Ð°Ñ‚Ñƒ" />
                    <DatePicker
                        Date="{Binding SelectedDate}"
                        HorizontalOptions="Fill"
                        MaximumDate="{Binding MaxDate}" />
                    <Label
                        FontSize="12"
                        HorizontalOptions="Center"
                        Opacity="0.7"
                        Text="{Binding RateInfoText}" />
                </VerticalStackLayout>
            </Border>

            <!--  Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸  -->
            <ActivityIndicator
                Grid.Row="1"
                HeightRequest="40"
                HorizontalOptions="Center"
                IsRunning="{Binding IsLoading}"
                IsVisible="{Binding IsLoading}" />

            <!--  Ð¡ÐµÐºÑ†Ð¸Ñ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸  -->
            <VerticalStackLayout Grid.Row="2" Spacing="12">

                <!--  Ð˜ÑÑ…Ð¾Ð´Ð½Ð°Ñ Ð²Ð°Ð»ÑŽÑ‚Ð°  -->
                <Border
                    Padding="16"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White},
                                                      Dark={StaticResource Gray900}}"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                             Dark={StaticResource Gray600}}"
                    StrokeShape="RoundRectangle 12">
                    <Border.Shadow>
                        <Shadow
                            Brush="{StaticResource Gray300}"
                            Opacity="0.3"
                            Radius="4"
                            Offset="0,2" />
                    </Border.Shadow>
                    <VerticalStackLayout Spacing="12">
                        <Label
                            FontAttributes="Bold"
                            FontSize="14"
                            Text="ðŸ’° Ð˜Ð· Ð²Ð°Ð»ÑŽÑ‚Ñ‹" />
                        <Picker
                            Title="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ð»ÑŽÑ‚Ñƒ"
                            HorizontalOptions="Fill"
                            ItemDisplayBinding="{Binding DisplayName}"
                            ItemsSource="{Binding Currencies}"
                            SelectedItem="{Binding FromCurrency}" />
                        <Entry
                            FontSize="18"
                            HorizontalTextAlignment="End"
                            Keyboard="Numeric"
                            Placeholder="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÑƒÐ¼Ð¼Ñƒ"
                            Text="{Binding FromAmount}" />
                    </VerticalStackLayout>
                </Border>

                <!--  Ð˜ÐºÐ¾Ð½ÐºÐ° Ð¾Ð±Ð¼ÐµÐ½Ð°  -->
                <Label
                    FontSize="28"
                    HorizontalOptions="Center"
                    Opacity="0.6"
                    Text="â‡…">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding SwapCurrenciesCommand}" />
                    </Label.GestureRecognizers>
                </Label>

                <!--  Ð¦ÐµÐ»ÐµÐ²Ð°Ñ Ð²Ð°Ð»ÑŽÑ‚Ð°  -->
                <Border
                    Padding="16"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White},
                                                      Dark={StaticResource Gray900}}"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                             Dark={StaticResource Gray600}}"
                    StrokeShape="RoundRectangle 12">
                    <Border.Shadow>
                        <Shadow
                            Brush="{StaticResource Gray300}"
                            Opacity="0.3"
                            Radius="4"
                            Offset="0,2" />
                    </Border.Shadow>
                    <VerticalStackLayout Spacing="12">
                        <Label
                            FontAttributes="Bold"
                            FontSize="14"
                            Text="ðŸ’± Ð’ Ð²Ð°Ð»ÑŽÑ‚Ñƒ" />
                        <Picker
                            Title="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ð»ÑŽÑ‚Ñƒ"
                            HorizontalOptions="Fill"
                            ItemDisplayBinding="{Binding DisplayName}"
                            ItemsSource="{Binding Currencies}"
                            SelectedItem="{Binding ToCurrency}" />
                        <Entry
                            FontSize="18"
                            HorizontalTextAlignment="End"
                            Keyboard="Numeric"
                            Placeholder="Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚"
                            Text="{Binding ToAmount}" />
                    </VerticalStackLayout>
                </Border>

            </VerticalStackLayout>

        </Grid>
    </ScrollView>

</ContentPage>
